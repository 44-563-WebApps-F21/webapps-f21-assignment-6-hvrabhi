<!DOCTYPE html>
<html>
    <head>
        <title>Assignment 6</title>
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.9.2/dist/umd/popper.min.js"
        integrity="sha384-IQsoLXl5PILFhosVNubq5LC7Qb9DXgDA9i+tQ8Zj3iwWAwPtgFTxbJ8NT4GN1R8p"
        crossorigin="anonymous"></script>
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.min.js"
        integrity="sha384-cVKIPhGWiC2Al4u+LWgxfKTRIcfu0JTxR+EQDz/bgldoEyl4H0zUF0QKbrJ0EcQF"
        crossorigin="anonymous"></script>
        <style>
            .image {
             width: 200px;
             height: 200px;
             cursor: pointer;
             margin-top: 1rem;
             object-fit: cover;
         }
        </style>
    </head>
    <body>
        
        <h1 class="text-center">Pass phrase by Abhilash Reddy Malipatlola</h1>

        <form>
            <div class="form-group row">
            <label for="form1_age" class="col-md-2 col-form-label">Enter the secret phrase </label>
            <div class="col-md-2 col-md-offset-8">
            <input class="form-control" type ="password" id="secret_phrase" name="form1_age" value="Let me in"> <br>
            </div></div>

            <div  class="form-group row mt-2">
            <label for="form1_nick" class="col-md-2 col-form-label">Enter a phrase </label>
            <div class="col-md-2 col-md-offset-8">
            <input class="form-control" type ="text" id="phrase" name="form1_nick" autofocus> <br>
            </div></div>

            <div class="row">
            <div class="col-md-4 mt-2">
            <input type="button" class=" btn btn-primary" onclick="processPhrase()" value="Check the phrase">
            </div></div>

        </form>

        <div class="mt-4" >
        <p id="result">Correct/Wrong</p>
        </div>

        <div class="container">
            <img onclick="newImage()" src="images/Monkey.jpg" alt="Monkey" class="image">
        </div>

        
<script> 

    var correct=0
    var wrong=0
    var currentImage = 1
    const image = document.getElementsByClassName("image")[0];

    function processPhrase (){
        console.log("Getting form values")
        sphrase = document.getElementById("secret_phrase").value
        phrase = document.getElementById("phrase").value
        
        out = document.getElementById("result")
        if(sphrase == phrase){
            correct = correct +1
            alert("Access is allowed")
            out.innerHTML = "Correct:" +correct
            sphrase.value=""
            phrase.value=""
        } else {
            wrong = wrong +1
            if(wrong<3){
            alert("Access is denied")
            out.innerHTML = "Wrong:" +wrong
            }
            if(wrong==3){
            out.innerHTML = "Wrong:" +wrong
            return alert("Acount locked")
            sphrase.value=""
            phrase.value=""
            }
        }
    }

    function newImage() {
        switch(currentImage){
            case 1: {
                currentImage =2;
                image.src ='images/Lion.jpg';
                break;
            }
            case 2: {
                currentImage =3;
                image.src ='images/Ant.jpg';
                break;
            }
            case 3: {
                currentImage =1;
                image.src ='images/Monkey.jpg';
                break;
            }
            default: {
                break;
            }
        }
    }

    </script>

    </body>
</html>